<html>
<head>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
  <script src="javascripts/manifest.js"></script>
  <script type="text/javascript">
    (function (){
      DNA = {};
      DNA.manifest = manifest;
      //User id information if present
      DNA.registerUser = {
        uid: 9,
        suid: '100002407031588',
        uat: 'CAACEdEose0cBAOJYYr57FEIDZCis4zoxGtBgud7QsRGmXC9pG5zgcQs9Moy8IXZAuuPZBTznZB1MD1VOiQUGQsP19T1jT4sZBJ71Vfhr6B3q5ZAMxYudZBYH4hQ0Eg5zq78DlPnsV6GAZBnhVU4hZAuxBoj1oGSaAAqzZCTcFo1bPwrSWHE2xdxOJTUDsN3lEvjHIZD'
      };
      //Initialize for 'Click' interactions capture
      DNA.initialize = function(){
        $.each($('[data-dna-interaction]'), function(index , el){
         var dataValues = {}
         $.each($(el).data(), function(key, value) {
            if (!!key.match('dna')) {
                dataValues[key] = value
            }
         });
          var interaction = dataValues.dnaInteraction;
          var interactionType = DNA.manifest[interaction]["action"];
          if(interactionType === "click"){
            $(el).bind("click", function(){
              DNA.createInteraction($.extend(DNA.manifest[interaction], {
              media_id: 123
              }), $.extend(DNA.manifest[interaction].data, dataValues))
            })
          }
        })
      };
      //Visit interactions
      $(document).ready(function(){
        DNA.createInteraction(DNA.manifest['PGV']);
        DNA.initialize();
      });
      DNA.createInteraction = function(data){
        $.ajax("/interactions", {
          crossDomain: true,
          xhrFields: {
            withCredentials: true
          },
          type: 'POST',
          data: $.extend(data, {created_at: new Date().toISOString(), userInfo: DNA.registerUser})});
      }
    })();
  </script>
</head>
<body>
Index Page
<div id='what' data-dna-interaction="BLC" data-dna-group="In Theaters" title="Delivery Man" data-dna-target="264">Click Here</div>
</body>
</html>